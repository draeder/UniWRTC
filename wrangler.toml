name = "uniwrtc"
main = "src/index.js"
compatibility_date = "2024-12-20"
workers_dev = false

[[migrations]]
tag = "v1"
new_sqlite_classes = ["Room"]

[[durable_objects.bindings]]
name = "ROOMS"
class_name = "Room"

[env.production]
routes = [
  { pattern = "signal.peer.ooo/*", zone_name = "peer.ooo" }
]

[[env.production.durable_objects.bindings]]
name = "ROOMS"
class_name = "Room"

[env.production.assets]
binding = "ASSETS"
directory = "dist"

[build]
command = "npm run build"

[build.upload]
format = "modules"
directory = "dist"
